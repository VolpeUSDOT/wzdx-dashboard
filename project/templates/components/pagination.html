{% load static %}
<nav aria-label="Pagination" class="usa-pagination">
    <ul class="usa-pagination__list">
        {% if page_obj.has_previous %}
            <li class="usa-pagination__item usa-pagination__arrow">
                <a href="?page={{ page_obj.previous_page_number }}"
                   class="usa-pagination__link usa-pagination__previous-page"
                   aria-label="Previous page">
                    <svg class="usa-icon" aria-hidden="true" role="img">
                        <use xlink:href="{% static '/uswds/img/sprite.svg' %}#navigate_before"></use>
                    </svg>
                    <span class="usa-pagination__link-text">Previous</span></a>
            </li>
        {% endif %}
        {% for page_num in page_range %}
            {% if page_num == '...' %}
                <li class="usa-pagination__item usa-pagination__overflow"
                    aria-label="ellipsis indicating non-visible pages">
                    <span>â€¦</span>
                </li>
            {% else %}
                <li class="usa-pagination__item usa-pagination__page-no">
                    <a href="?page={{ page_num }}"
                       class="usa-pagination__button{% if page_num == page_obj.number %} usa-current{% endif %}"
                       aria-label="Page {{ page_num }}"
                       {% if page_num == page_obj.number %}aria-current="page"{% endif %}>{{ page_num }}</a>
                </li>
            {% endif %}
        {% endfor %}
        {% if page_obj.has_next %}
            <li class="usa-pagination__item usa-pagination__arrow">
                <a href="?page={{ page_obj.next_page_number }}"
                   class="usa-pagination__link usa-pagination__next-page"
                   aria-label="next page">
                    <span class="usa-pagination__link-text">Next</span>
                    <svg class="usa-icon" aria-hidden="true" role="img">
                        <use xlink:href="{% static '/uswds/img/sprite.svg' %}#navigate_next"></use>
                    </svg>
                </a>
            </li>
        {% endif %}
    </ul>
</nav>
